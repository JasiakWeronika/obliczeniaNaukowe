# Weronika Jasiak
# Funkcja derivative wyznacza przybliżoną wartość pochodnej funkcji
# f(x) = sin(x) + xos(3x)
# max - argument funkcji przyjmujący wartość maksymalną iteracji
function derivative(max)
    # x - punkt w którym pochodna funkcji przyjmuje wartość 1
    x = Float64(1.0)
    # n - wartość maksymalan iteracji zapisana w arytmetyce
    # zmiennopozycyjnej Float64
    n = Float64(max)
    # F9x0 - wzór funkcji
    f(x) = sin(x) + cos(3 * x)
    # g(x) - pochodna funkcji f(x)
    g(x) = cos(x) - 3 * sin(3 * x)
    for i = 0 : n
        # h - parametr zmieniający się w każdej iteracji
        h = Float64(2.0)^(-i)
        # approximateDerivative - przybliżona wartość pochodnej
        approximateDerivative = ((f(x + h) - f(x)) / h)
        # approximateError - przybliżona wartość błędu
        approximateError = abs(g(x) - approximateDerivative)
        println("h = 2^(-$i) \t x0 = $x \t błąd $approximateError \t ~f'(x) $approximateDerivative")
    end
end
# przykładowe wywołania funkcji derivative
derivative(54)
# h = 2^(-0.0)     x0 = 1.0    błąd 1.9010469435800585     ~f'(x) 2.0179892252685967
# h = 2^(-1.0)     x0 = 1.0    błąd 1.753499116243109      ~f'(x) 1.8704413979316472
# h = 2^(-2.0)     x0 = 1.0    błąd 0.9908448135457593     ~f'(x) 1.1077870952342974
# h = 2^(-3.0)     x0 = 1.0    błąd 0.5062989976090435     ~f'(x) 0.6232412792975817
# h = 2^(-4.0)     x0 = 1.0    błąd 0.253457784514981      ~f'(x) 0.3704000662035192
# h = 2^(-5.0)     x0 = 1.0    błąd 0.1265007927090087     ~f'(x) 0.24344307439754687
# h = 2^(-6.0)     x0 = 1.0    błąd 0.0631552816187897     ~f'(x) 0.18009756330732785
# h = 2^(-7.0)     x0 = 1.0    błąd 0.03154911368255764    ~f'(x) 0.1484913953710958
# h = 2^(-8.0)     x0 = 1.0    błąd 0.015766832591977753   ~f'(x) 0.1327091142805159
# h = 2^(-9.0)     x0 = 1.0    błąd 0.007881411252170345   ~f'(x) 0.1248236929407085
# h = 2^(-10.0)    x0 = 1.0    błąd 0.0039401951225235265  ~f'(x) 0.12088247681106168
# h = 2^(-11.0)    x0 = 1.0    błąd 0.001969968780300313   ~f'(x) 0.11891225046883847
# h = 2^(-12.0)    x0 = 1.0    błąd 0.0009849520504721099  ~f'(x) 0.11792723373901026
# h = 2^(-13.0)    x0 = 1.0    błąd 0.0004924679222275685  ~f'(x) 0.11743474961076572
# h = 2^(-14.0)    x0 = 1.0    błąd 0.0002462319323930373  ~f'(x) 0.11718851362093119
# h = 2^(-15.0)    x0 = 1.0    błąd 0.00012311545724141837 ~f'(x) 0.11706539714577957
# h = 2^(-16.0)    x0 = 1.0    błąd 6.155759983439424e-5   ~f'(x) 0.11700383928837255
# h = 2^(-17.0)    x0 = 1.0    błąd 3.077877117529937e-5   ~f'(x) 0.11697306045971345
# h = 2^(-18.0)    x0 = 1.0    błąd 1.5389378673624776e-5  ~f'(x) 0.11695767106721178
# h = 2^(-19.0)    x0 = 1.0    błąd 7.694675146829866e-6   ~f'(x) 0.11694997636368498
# h = 2^(-20.0)    x0 = 1.0    błąd 3.8473233834324105e-6  ~f'(x) 0.11694612901192158
# h = 2^(-21.0)    x0 = 1.0    błąd 1.9235601902423127e-6  ~f'(x) 0.1169442052487284
# h = 2^(-22.0)    x0 = 1.0    błąd 9.612711400208696e-7   ~f'(x) 0.11694324295967817
# h = 2^(-23.0)    x0 = 1.0    błąd 4.807086915192826e-7   ~f'(x) 0.11694276239722967
# h = 2^(-24.0)    x0 = 1.0    błąd 2.394961446938737e-7   ~f'(x) 0.11694252118468285
# h = 2^(-25.0)    x0 = 1.0    błąd 1.1656156484463054e-7  ~f'(x) 0.116942398250103
# h = 2^(-26.0)    x0 = 1.0    błąd 5.6956920069239914e-8  ~f'(x) 0.11694233864545822
# h = 2^(-27.0)    x0 = 1.0    błąd 3.460517827846843e-8   ~f'(x) 0.11694231629371643
# h = 2^(-28.0)    x0 = 1.0    błąd 4.802855890773117e-9   ~f'(x) 0.11694228649139404
# h = 2^(-29.0)    x0 = 1.0    błąd 5.480178888461751e-8   ~f'(x) 0.11694222688674927
# h = 2^(-30.0)    x0 = 1.0    błąd 1.1440643366000813e-7  ~f'(x) 0.11694216728210449
# h = 2^(-32.0)    x0 = 1.0    błąd 3.5282501276157063e-7  ~f'(x) 0.11694192886352539
# h = 2^(-31.0)    x0 = 1.0    błąd 1.1440643366000813e-7  ~f'(x) 0.11694216728210449
# h = 2^(-33.0)    x0 = 1.0    błąd 8.296621709646956e-7   ~f'(x) 0.11694145202636719
# h = 2^(-34.0)    x0 = 1.0    błąd 8.296621709646956e-7   ~f'(x) 0.11694145202636719
# h = 2^(-35.0)    x0 = 1.0    błąd 2.7370108037771956e-6  ~f'(x) 0.11693954467773438
# h = 2^(-36.0)    x0 = 1.0    błąd 1.0776864618478044e-6  ~f'(x) 0.116943359375
# h = 2^(-37.0)    x0 = 1.0    błąd 1.4181102600652196e-5  ~f'(x) 0.1169281005859375
# h = 2^(-38.0)    x0 = 1.0    błąd 1.0776864618478044e-6  ~f'(x) 0.116943359375
# h = 2^(-39.0)    x0 = 1.0    błąd 5.9957469788152196e-5  ~f'(x) 0.11688232421875
# h = 2^(-40.0)    x0 = 1.0    błąd 0.0001209926260381522  ~f'(x) 0.1168212890625
# h = 2^(-41.0)    x0 = 1.0    błąd 1.0776864618478044e-6  ~f'(x) 0.116943359375
# h = 2^(-42.0)    x0 = 1.0    błąd 0.0002430629385381522  ~f'(x) 0.11669921875
# h = 2^(-43.0)    x0 = 1.0    błąd 0.0007313441885381522  ~f'(x) 0.1162109375
# h = 2^(-44.0)    x0 = 1.0    błąd 0.0002452183114618478  ~f'(x) 0.1171875
# h = 2^(-45.0)    x0 = 1.0    błąd 0.003661031688538152   ~f'(x) 0.11328125
# h = 2^(-46.0)    x0 = 1.0    błąd 0.007567281688538152   ~f'(x) 0.109375
# h = 2^(-47.0)    x0 = 1.0    błąd 0.007567281688538152   ~f'(x) 0.109375
# h = 2^(-48.0)    x0 = 1.0    błąd 0.023192281688538152   ~f'(x) 0.09375
# h = 2^(-49.0)    x0 = 1.0    błąd 0.008057718311461848   ~f'(x) 0.125
# h = 2^(-50.0)    x0 = 1.0    błąd 0.11694228168853815    ~f'(x) 0.0
# h = 2^(-51.0)    x0 = 1.0    błąd 0.11694228168853815    ~f'(x) 0.0
# h = 2^(-52.0)    x0 = 1.0    błąd 0.6169422816885382     ~f'(x) -0.5
# h = 2^(-53.0)    x0 = 1.0    błąd 0.11694228168853815    ~f'(x) 0.0
# h = 2^(-54.0)    x0 = 1.0    błąd 0.11694228168853815    ~f'(x) 0.0
